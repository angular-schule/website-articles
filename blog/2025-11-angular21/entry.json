{"slug":"2025-11-angular21","html":"<!-- Before we dive into the usual end-of-year rush, there is news from the Angular world: -->\n<p>On <strong>November 19, 2025</strong>, <strong>Angular 21</strong> was released!\nThe most important updates: Signal Forms, zoneless apps, testing with Vitest, the new package <code>@angular/aria</code>, and more support for AI assistants.</p>\n<p>As always, you can find the official release information in the <a href=\"https://blog.angular.dev/announcing-angular-v21-57946c34f14b\">Angular Blog</a>.\nYou can migrate an existing project to Angular 21 using the command <code>ng update</code>.\nDetailed information about the steps is available in the <a href=\"https://angular.dev/update-guide\">Angular Update Guide</a>.</p>\n<blockquote>\n<p>üá©üá™ This article is available in German language here: <a href=\"https://angular-buch.com/blog/2025-11-angular21\">Angular 21 ist da!</a></p>\n</blockquote>\n<h2 id=\"versions-of-typescript-and-nodejs\">Versions of TypeScript and Node.js</h2>\n<p>The following versions of TypeScript and Node.js are required for Angular 21:</p>\n<ul>\n<li>TypeScript: &gt;=5.9.0 &lt;6.0.0</li>\n<li>Node.js: ^20.19.0 || ^22.12.0 || ^24.0.0</li>\n</ul>\n<p>You can find detailed information about supported versions in the <a href=\"https://angular.dev/reference/versions\">Angular documentation</a>.</p>\n<h2 id=\"zoneless-change-detection-the-new-default\">Zoneless change detection: the new default</h2>\n<p>Angular has supported zoneless change detection for some time.\nIn the past, the library Zone.js was used to detect changes to data.\nWith signals as the new foundation, the approach has changed significantly: Signals explicitly announce when a value has changed.</p>\n<!-- We covered this in detail in the [blog post about Angular 18](/blog/2024-05-angular18). -->\n\n<p>Now there is great news about this topic: Zoneless change detection is the new default!\nNew applications created with Angular 21 use the new mechanism by default.\nWhen creating an application with <code>ng new</code>, we no longer need the <code>--zoneless</code> option.\nIt is also no longer necessary to call the function <code>provideZonelessChangeDetection()</code> in <code>app.config.ts</code>.</p>\n<p>If you still want to use the old Zone.js-based implementation for compatibility reasons, you can configure change detection in <code>app.config.ts</code>.\nAdditionally, Zone.js must be installed and listed under <code>polyfills</code> in <code>angular.json</code> ‚Äì just like it was in all applications in the past.</p>\n<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-type\">const</span> appConfig: ApplicationConfig = {\n  providers: [\n    <span class=\"hljs-comment\">// ...</span>\n    <span class=\"hljs-comment\">// enable the LEGACY change detection with Zone.js</span>\n    <span class=\"hljs-built_in\">provideZoneChangeDetection</span>({ eventCoalescing: <span class=\"hljs-literal\">true</span> }),\n};\n</code></pre><h2 id=\"signal-forms\">Signal Forms</h2>\n<p>The current approaches for form handling in Angular are not designed to work well with signals.\nNow a new experimental approach has been introduced: <em>Signal Forms</em>.\nThis variant not only integrates signals extensively, but also aims to simplify how forms are created and managed.</p>\n<p>The basic idea: The data lives inside a simple signal that we control.\nAngular derives the structure of the form from the data.\nThe validation rules are defined as a schema, written directly in code.</p>\n<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">import</span> { schema, form, <span class=\"hljs-title class_\">Field</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;@angular/forms/signals&#x27;</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> bookFormSchema = schema&lt;<span class=\"hljs-title class_\">Book</span>&gt;(<span class=\"hljs-function\"><span class=\"hljs-params\">fieldPath</span> =&gt;</span> {\n  <span class=\"hljs-title function_\">required</span>(fieldPath.<span class=\"hljs-property\">isbn</span>);\n  <span class=\"hljs-title function_\">minLength</span>(fieldPath.<span class=\"hljs-property\">isbn</span>, <span class=\"hljs-number\">10</span>);\n  <span class=\"hljs-title function_\">maxLength</span>(fieldPath.<span class=\"hljs-property\">isbn</span>, <span class=\"hljs-number\">13</span>);\n  <span class=\"hljs-title function_\">required</span>(fieldPath.<span class=\"hljs-property\">title</span>);\n});\n\n<span class=\"hljs-meta\">@Component</span>({\n  <span class=\"hljs-comment\">// ...</span>\n  <span class=\"hljs-attr\">imports</span>: [<span class=\"hljs-title class_\">Field</span>]\n})\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyForm</span> {\n  <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-keyword\">readonly</span> bookData = signal&lt;<span class=\"hljs-title class_\">Book</span>&gt;({\n    <span class=\"hljs-attr\">isbn</span>: <span class=\"hljs-string\">&#x27;&#x27;</span>,\n    <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;&#x27;</span>\n  });\n\n  <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-keyword\">readonly</span> bookForm = <span class=\"hljs-title function_\">form</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">bookData</span>, bookFormSchema);\n}\n</code></pre><p>In the template, we create the data bindings using a single directive:</p>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> [<span class=\"hljs-attr\">field</span>]=<span class=\"hljs-string\">&quot;bookForm.isbn&quot;</span> /&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> [<span class=\"hljs-attr\">field</span>]=<span class=\"hljs-string\">&quot;bookForm.title&quot;</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n</code></pre><p>We have published detailed blog posts on Signal Forms:</p>\n<ul>\n<li><a href=\"https://angular-buch.com/blog/2025-10-signal-forms-part1\"><strong>Part 1: Getting Started with the Basics</strong></a></li>\n<li><a href=\"https://angular-buch.com/blog/2025-10-signal-forms-part2\"><strong>Part 2: Advanced Validation and Schema Patterns</strong></a></li>\n<li><a href=\"https://angular-buch.com/blog/2025-10-signal-forms-part3\"><strong>Part 3: Child Forms and Custom UI Controls</strong></a></li>\n</ul>\n<p>In the long run, this new approach may replace the older variants <em>Reactive Forms</em> and <em>Template-Driven Forms</em>.\nThe Angular team also places great emphasis on backward compatibility, so migrating to a signal-based form should not be a major problem.\nHowever, the new approach is still experimental, meaning that the interfaces and concepts are subject to change.</p>\n<h2 id=\"vitest-the-new-test-runner\">Vitest: the new test runner</h2>\n<p>Angular 21 brings one of the biggest changes in testing we&#39;ve seen in years:\n<a href=\"https://vitest.dev\">Vitest</a> &quot;officially&quot; replaces Karma and Jasmine as the standard test runner.\nVitest was already introduced as an experimental test runner in <a href=\"https://angular-buch.com/blog/2025-05-angular20#experimenteller-test-builder-f%C3%BCr-vitest\">Angular 20 (May 2025)</a>.\nWith Angular 21, Vitest is now officially stable and no longer marked as experimental.</p>\n<p>Vitest then became the default for new projects with <code>ng new</code>.\nSo for new projects, the path clearly leads to Vitest, but you can still choose Karma/Jasmine if you prefer:</p>\n<pre><code class=\"language-bash\"># <span class=\"hljs-keyword\">Create</span> a project <span class=\"hljs-keyword\">with</span> Vitest <span class=\"hljs-keyword\">as</span> the test runner\nng <span class=\"hljs-built_in\">new</span> my-project\n\n# <span class=\"hljs-keyword\">Create</span> a project <span class=\"hljs-keyword\">with</span> Karma <span class=\"hljs-keyword\">as</span> the test runner\nng <span class=\"hljs-built_in\">new</span> my-project <span class=\"hljs-comment\">--test-runner=karma</span>\n</code></pre><p>Vitest offers significant advantages: much faster test execution, modern APIs, a Jest-like expect syntax, flexible fake timers, and even a real browser mode if needed.\nThe browser mode works similarly to how it did under Karma and is ideal for realistic UI tests.\nMost specs should continue to work unchanged, because Angular&#39;s <code>TestBed</code> and <code>ComponentFixture</code> remain exactly the same.\nThe main changes are to Jasmine-specific matchers or spies.</p>\n<p>The actual migration starts by using the new <code>unit-test</code> builder in <code>angular.json</code>.\nAfter that, you can use an experimental schematic for existing tests that automatically transfers many Jasmine patterns to Vitest:</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-attribute\">ng</span> g <span class=\"hljs-variable\">@schematics</span>/angular:refactor-jasmine-vitest\n</code></pre><p>At the same time, the Angular team has marked support for the test runners Jest and Web Test Runner as <strong>deprecated</strong>.\nWe have put together a detailed migration guide, including practical examples for fake timers, matchers, and async/await:</p>\n<ul>\n<li><strong><a href=\"/blog/2025-11-migrate-to-vitest\">Vitest in Angular 21: What&#39;s new and how to migrate?</a></strong></li>\n</ul>\n<h2 id=\"angulararia-accessible-components-made-easy\">@angular/aria: accessible components made easy</h2>\n<p>With Angular 21, the new package <a href=\"https://angular.dev/guide/aria/overview\"><code>@angular/aria</code></a> was introduced: a collection of directives that implement common <a href=\"https://www.w3.org/WAI/ARIA/apg/patterns/\">WAI-ARIA patterns</a>.\nThe package handles the complex work of accessibility, especially for more complex, frequently used patterns that go beyond standard HTML elements.\nKeyboard interactions, ARIA attributes, focus management, and screen reader support are all taken into account under the hood of the directives.</p>\n<p>You install the new package as usual via the Angular CLI:</p>\n<pre><code class=\"language-bash\">ng <span class=\"hljs-keyword\">add</span><span class=\"language-bash\"> @angular/aria</span>\n</code></pre><p>In its first version, <code>@angular/aria</code> provides directives for the following interactive patterns:</p>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>Accordion</strong></td>\n<td>Expandable sections (accordion), which can be opened individually or exclusively</td>\n</tr>\n<tr>\n<td><strong>Autocomplete</strong></td>\n<td>Text input with filtered suggestions while typing</td>\n</tr>\n<tr>\n<td><strong>Combobox</strong></td>\n<td>Combination of text input and popup with search results</td>\n</tr>\n<tr>\n<td><strong>Grid</strong></td>\n<td>Two-dimensional data display with cell-by-cell keyboard navigation</td>\n</tr>\n<tr>\n<td><strong>Listbox</strong></td>\n<td>Single or multi-select option lists with keyboard navigation</td>\n</tr>\n<tr>\n<td><strong>Menu</strong></td>\n<td>Dropdown menus with nested submenus and keyboard shortcuts</td>\n</tr>\n<tr>\n<td><strong>Multiselect</strong></td>\n<td>Multi-select dropdown pattern with compact display</td>\n</tr>\n<tr>\n<td><strong>Select</strong></td>\n<td>Single-select dropdown pattern with keyboard navigation</td>\n</tr>\n<tr>\n<td><strong>Tabs</strong></td>\n<td>Tab interfaces with automatic or manual activation modes</td>\n</tr>\n<tr>\n<td><strong>Toolbar</strong></td>\n<td>Grouped controls with logical keyboard navigation</td>\n</tr>\n<tr>\n<td><strong>Tree</strong></td>\n<td>Hierarchical lists with expand/collapse functionality</td>\n</tr>\n</tbody></table>\n<p>The new package is especially useful when developing complex components and when existing accessible component libraries cannot be used, for example because their styling cannot be adapted.\nThe directives do not involve any visual elements, but ensure consistent behavior as well as barrier-free keyboard navigation, focus handling, and screen reader optimization.</p>\n<p>You can find more information about the new directives in the Angular documentation: <a href=\"https://angular.dev/guide/aria/overview\">Angular Aria Guide</a></p>\n<blockquote>\n<p>Some of these building blocks previously existed in similar form in the <a href=\"https://material.angular.dev/cdk/dialog/overview\">Component Development Kit (CDK)</a> of Angular. The CDK was the foundation of the Angular Material component library.\nWith <code>@angular/aria</code>, the Angular team brings the core of this collection closer to the Angular platform and strengthens the focus on accessibility.</p>\n</blockquote>\n<h2 id=\"providers-for-httpclient\">Providers for <code>HttpClient</code></h2>\n<p>With Angular 21, the providers for <code>HttpClient</code> are included automatically.\nThis means it is no longer necessary to call the function <code>provideHttpClient()</code> in the file <code>app.config.ts</code>.</p>\n<p>If we want to configure the HTTP integration, for example by adding interceptors or using the function <code>withFetch()</code>, we still need to call the function:</p>\n<pre><code class=\"language-ts\">// app<span class=\"hljs-selector-class\">.config</span><span class=\"hljs-selector-class\">.ts</span>\nexport const appConfig: ApplicationConfig = {\n  providers: [\n    // ...\n    <span class=\"hljs-built_in\">provideHttpClient</span>(\n      <span class=\"hljs-built_in\">withFetch</span>(),\n      <span class=\"hljs-built_in\">withInterceptors</span>([ <span class=\"hljs-comment\">/* ... */</span> ])\n    )\n  ]\n};\n</code></pre><h2 id=\"angulars-support-for-ai-assistants\">Angular&#39;s support for AI assistants</h2>\n<p>When creating a new application (<code>ng new</code>), the interactive prompt now asks whether you want to generate a config file for a specific AI tool (command-line option <code>--ai-config</code>).\nThis creates a file that is automatically read as a <em>custom prompt</em> by AI assistants such as Claude Code, GitHub Copilot, Cursor, and many others, supplying them with up-to-date Angular best practices:</p>\n<pre><code class=\"language-bash\">? Which AI tools <span class=\"hljs-keyword\">do</span> you want to configure with Angular best practices? https:<span class=\"hljs-regexp\">//</span>angular.dev<span class=\"hljs-regexp\">/ai/</span>develop-with-ai\n ‚óâ None\n ‚óØ Agents.md      [ https:<span class=\"hljs-regexp\">//</span>agents.md/                                               ]\n‚ùØ‚óØ Claude         [ https:<span class=\"hljs-regexp\">//</span>docs.anthropic.com<span class=\"hljs-regexp\">/en/</span>docs<span class=\"hljs-regexp\">/claude-code/m</span>emory            ]\n ‚óØ Cursor         [ https:<span class=\"hljs-regexp\">//</span>docs.cursor.com<span class=\"hljs-regexp\">/en/</span>context/rules                         ]\n ‚óØ Gemini         [ https:<span class=\"hljs-regexp\">//</span>ai.google.dev<span class=\"hljs-regexp\">/gemini-api/</span>docs                            ]\n ‚óØ GitHub Copilot [ https:<span class=\"hljs-regexp\">//</span>code.visualstudio.com<span class=\"hljs-regexp\">/docs/</span>copilot/copilot-customization ]\n ‚óØ JetBrains AI   [ https:<span class=\"hljs-regexp\">//</span>www.jetbrains.com<span class=\"hljs-regexp\">/help/</span>junie/customize-guidelines.html   ]\n\n‚Üë‚Üì navigate ‚Ä¢ space select ‚Ä¢ a all ‚Ä¢ i invert ‚Ä¢ ‚èé submit\n</code></pre><p>Depending on the selected tool, the file name and location differ, for example <code>.claude/CLAUDE.md</code> for Claude, <code>.gemini/GEMINI.md</code> for Gemini, or <code>AGENTS.md</code> following the <a href=\"https://agents.md/\">new standard</a>, optionally with a frontmatter header.\nThe actual content with Angular best practices remains identical.</p>\n<p>There are, however, challenges: custom prompts are often forgotten during long sessions, and the limited context window can lead to inconsistent results.\nTo address this issue, Angular additionally offers its own MCP server, which is now stable with Angular 21.\nThe server gives AI agents structured access to seven tools.\nThis closes the &quot;knowledge gap&quot; between the trained model and current best practices:\nLLMs can use brand-new features such as Signal Forms and Angular Aria, even though these did not exist at training time.</p>\n<p>The MCP server currently provides seven tools:</p>\n<ol>\n<li>Learn Angular with an interactive AI tutor (<code>ai_tutor</code>). See the documentation under <a href=\"https://angular.dev/ai/ai-tutor\">&quot;Angular AI Tutor&quot;</a>.</li>\n<li>Find modern Angular pattern examples (<code>find_examples</code>).</li>\n<li>Provide best practices (<code>get_best_practices</code>).</li>\n<li>List all projects in the workspace (<code>list_projects</code>).</li>\n<li>Migrate the application to zoneless change detection (<code>onpush_zoneless_migration</code>).</li>\n<li>Search the documentation (<code>search_documentation</code>).</li>\n<li>Perform code migrations with schematics (<code>modernize</code>, <strong>experimental</strong>).</li>\n</ol>\n<!-- More details about `AGENTS.md`, MCP, and practical experience can be found in our detailed article about [Vibe Coding with Angular](/blog/2025-11-ai-mcp-vibe-coding). -->\n\n\n<h2 id=\"migration-scripts\">Migration scripts</h2>\n<p>It is no longer recommended to use the <code>ngClass</code> directive.</p>\n<!-- We already wrote about this one year ago [in a blog post](https://angular.schule/blog/2024-11-ngclass-ngstyle). -->\n<p>To migrate to direct class bindings with <code>[class]</code>, Angular provides a migration script:</p>\n<pre><code class=\"language-bash\">ng <span class=\"hljs-keyword\">generate</span> @angular/core:ngclass-to-<span class=\"hljs-keyword\">class</span>\n</code></pre><p>The <code>RouterTestingModule</code> for unit tests is also no longer supported.\nA migration script can update the tests to the newer <code>provideRouterTesting()</code>, see the <a href=\"https://github.com/angular/angular/commit/861cee34e0e9b5562cfe70d245f30b7ddea7d8fd\">commit</a>.</p>\n<pre><code class=\"language-bash\">ng <span class=\"hljs-keyword\">generate</span> @angular/core:router-testing-<span class=\"hljs-keyword\">module</span>-migration\n</code></pre><h2 id=\"other-updates\">Other updates</h2>\n<p>You can always find all the details about new features in the changelogs of <a href=\"https://github.com/angular/angular/releases\">Angular</a> and the <a href=\"https://github.com/angular/angular-cli/releases\">Angular CLI</a>.\nWe have collected some interesting highlights here:</p>\n<ul>\n<li><strong>Bindings for ARIA attributes:</strong> Until now, we always had to use an attribute binding for ARIA attributes: <code>[attr.aria-label]=&quot;myLabel&quot;</code>. These attributes can now be bound directly: <code>[aria-label]=&quot;myLabel&quot;</code>.</li>\n<li><strong>Regular expressions in templates:</strong> Angular now supports regular expressions directly in templates (see <a href=\"https://github.com/angular/angular/pull/63857\">PR</a>).</li>\n<li><strong>Tailwind support for <code>ng new</code>:</strong> Angular has supported TailwindCSS for a while. Now the framework can also be configured directly when creating a new application: <code>ng new --style=tailwind</code> (see <a href=\"https://github.com/angular/angular-cli/commit/4912f39906b11a3212f11d5a00d577e2a0bacab4\">commit</a>).</li>\n</ul>\n<hr>\n\n<p>We wish you lots of fun developing with Angular 21!\nDo you have questions about the new version of Angular or about our book? Write to us!</p>\n<p><strong>Have fun!\nFerdinand, Danny and Johannes</strong></p>\n<hr>\n\n<p><small><strong>Cover image:</strong> Tre Cime di Lavaredo, Dolomites, Italy. Photo by Ferdinand Malcher</small></p>\n","meta":{"title":"Angular 21 is here!","author":"Angular Book Team","mail":"team@angular-buch.com","published":"2025-11-20T00:00:00.000Z","lastModified":"2025-11-20T00:00:00.000Z","keywords":["Angular","Angular 21","MCP-Server","ARIA","Zoneless","Signal Forms","Vitest","Karma"],"language":"en","header":{"url":"angular21.jpg","width":2000,"height":1009},"sticky":true,"hidden":false,"darkenHeader":false}}
